<ion-header>
  <ion-navbar color=dark>
    <ion-title>
      Categories & Groups
    </ion-title>
  </ion-navbar>
</ion-header>



<ion-content class="app-background">
  <div text-center>
    <button small (click)="createNewGroup()" class="newButton" color=phantomgray ion-button block icon-start>
      <ion-icon name="md-add"></ion-icon>
      Add Group
    </button>
  </div>
  <ion-list *ngFor='let group of categoriesContainer'>

    <ion-item-sliding #slidingItem>
      <ion-item class="header" color="headercolor">{{group.name}}
        <ion-note color=darkgray class="header-right-text" item-end>MONTHLY TARGET</ion-note>
      </ion-item>

      <ion-item-options side="right">
        <!--<button ion-button color="dark" (click)="noop()">
          <ion-icon name="md-create"></ion-icon>
          EDIT
        </button>-->
        <button ion-button color="cardinalred" (click)="deleteGroup(group._id)">
          <ion-icon name="trash"></ion-icon>
          DELETE ALL
        </button>
      </ion-item-options>
    </ion-item-sliding>

    <ion-item-sliding *ngFor="let category of group['categories']" #slidingItem>
      <ion-item>
        <ion-label color=dark>{{category.name}}</ion-label>
        <ion-note item-end class="normal-category">
          {{ category.targetAmount/100 | currency}}
        </ion-note>
      </ion-item>
      <ion-item-options side="right">
        <!--<button ion-button color="dark" (click)="noop()">
          <ion-icon name="md-create"></ion-icon>
          EDIT
        </button>-->
        <button ion-button color="cardinalred" (click)="deleteCategory(category._id, category.name, category.amount)">
          <ion-icon name="trash"></ion-icon>
          DELETE
        </button>
      </ion-item-options>
    </ion-item-sliding>
    <div text-center>
      <button small (click)="createNewCategory(group._id)" class="newButton" color=phantomgray ion-button block icon-start>
        <ion-icon name="md-add"></ion-icon>
        Add Category
      </button>
    </div>

  </ion-list>
</ion-content>